<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>paul-ylz  | Installing Dropbox w Cryptomator</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.55.0" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.955516233bcafa4d2a1c13cea63c7b50.css" rel="stylesheet">
    

    

    
      
    

    

    <meta property="og:title" content="Installing Dropbox w Cryptomator" />
<meta property="og:description" content="https://wiki.archlinux.org/index.php/Dropbox
pacman -S dropbox I just run Dropbox when I&rsquo;m in Xorg, so using ~/.xinitrc:
/usr/bin/dropbox &amp; The next time you start X, Dropbox will pop open a browser to sign in with. After you sign in, ~/Dropbox will just automatically sync.
Cryptomator lets you store encrypted vaults on Dropbox. Unlocked vaults are made available via webdav, so some type of webdav client is needed. I tried nautilus and it worked, so I am using that." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://paul-ylz.github.io/posts/arch/dropbox-with-cryptomator/" />
<meta property="article:published_time" content="2018-11-05T17:49:21&#43;08:00"/>
<meta property="article:modified_time" content="2018-11-05T17:49:21&#43;08:00"/>

<meta itemprop="name" content="Installing Dropbox w Cryptomator">
<meta itemprop="description" content="https://wiki.archlinux.org/index.php/Dropbox
pacman -S dropbox I just run Dropbox when I&rsquo;m in Xorg, so using ~/.xinitrc:
/usr/bin/dropbox &amp; The next time you start X, Dropbox will pop open a browser to sign in with. After you sign in, ~/Dropbox will just automatically sync.
Cryptomator lets you store encrypted vaults on Dropbox. Unlocked vaults are made available via webdav, so some type of webdav client is needed. I tried nautilus and it worked, so I am using that.">


<meta itemprop="datePublished" content="2018-11-05T17:49:21&#43;08:00" />
<meta itemprop="dateModified" content="2018-11-05T17:49:21&#43;08:00" />
<meta itemprop="wordCount" content="282">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Installing Dropbox w Cryptomator"/>
<meta name="twitter:description" content="https://wiki.archlinux.org/index.php/Dropbox
pacman -S dropbox I just run Dropbox when I&rsquo;m in Xorg, so using ~/.xinitrc:
/usr/bin/dropbox &amp; The next time you start X, Dropbox will pop open a browser to sign in with. After you sign in, ~/Dropbox will just automatically sync.
Cryptomator lets you store encrypted vaults on Dropbox. Unlocked vaults are made available via webdav, so some type of webdav client is needed. I tried nautilus and it worked, so I am using that."/>

  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="http://paul-ylz.github.io/" class="f3 fw2 hover-white no-underline white-90 dib">
      paul-ylz
    </a>
    <div class="flex-l items-center">
      

      
      











    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw9 center ph3">

    <header class="mt4 w-100">
      <p class="f6 b helvetica tracked">
          
        POSTS
      </p>
      <h1 class="f1 athelas mb1">Installing Dropbox w Cryptomator</h1>
      
      <time class="f6 mv4 dib tracked" datetime="2018-11-05T17:49:21&#43;08:00">November 5, 2018</time>      
      
      
    </header>

    <section class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p><a href="https://wiki.archlinux.org/index.php/Dropbox">https://wiki.archlinux.org/index.php/Dropbox</a></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">pacman -S dropbox</code></pre></div>

<p>I just run Dropbox when I&rsquo;m in Xorg, so using ~/.xinitrc:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">/usr/bin/dropbox &amp;</code></pre></div>

<p>The next time you start X, Dropbox will pop open a browser to sign in with. After you sign in, ~/Dropbox will just automatically sync.</p>

<p>Cryptomator lets you store encrypted vaults on Dropbox. Unlocked vaults are made available via webdav, so some type of webdav client is needed. I tried nautilus and it worked, so I am using that. I&rsquo;ve used Cryptomator for a while now and it worked perfectly for me on OSX and made things accessible on my Android phone via the Cryptomator app.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cd /usr/local/src
git clone https://aur.archlinux.org/cryptomator.git
makepkg -sri</code></pre></div>

<p>Although the Cryptomator installs open-jdk (open source Java) as a dependency, it would not start on my machine with a &ldquo;Graphics Device initialization failed for: es2, sw. Error initializing QuantumRenderer: no suitable pipeline found&rdquo;.</p>

<p>I got around this issue by installing Oracle Java through AUR.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git clone https://aur.archlinux.org/jre.git
cd jre
makepkg -sri
sudo archlinux-java set java-10-jre/jre</code></pre></div>

<p>And Cryptomator runs!</p>

<p>After unlocking Cryptomator vaults, they become available via WebDAV.
In order to edit files in the vault, they have to be mounted. Cryptomator gives you an easy way to copy the WebDAV URL, and I find it convenient to use aliases to to mount the vaults. In order to mount a DAV, you need to be able to use <code>davfs</code> a dav filesystem, which means we need <code>davfs2</code>.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">pacman -S davfs2</code></pre></div>

<p>I have aliases that look like
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">alias mntsomething<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;sudo mount -t davfs http://localhost:42427/someuuid/myvaultname /mnt/myvaultname -o username=${USER},rw,uid=${USER},file_mode=700,dir_mode=700&#39;</span></code></pre></div></p>

<p>As you modify files inside the mounted vault, Cryptomator updates the vault while you do so, and the encrypted files get synced to Dropbox on the fly.</p>
<ul class="pa0">
  
</ul>
<div class="mt6">
        
      </div>
    </section>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://paul-ylz.github.io/" >
    &copy; 2019 paul-ylz
  </a>
    <div>










</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
